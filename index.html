<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="author" content="order by dede58.com"/>
    <title>小米商城</title>
    <link rel="stylesheet" type="text/css" href="./css/style.css">
    <link rel="stylesheet" type="text/css" href="./css/add-info.css">
    <script type="text/javascript" src="jquery-3.3.1.min.js"></script>
</head>
<body>
<!-- start header -->
<header>
    <div class="top center">
        <div class="left fl">
            <ul>
                <div class="clear"></div>
            </ul>
        </div>
        <div class="right fr">
            <!--<div class="gouwuche fr"><a href="">购物车</a></div>-->
            <div class="fr">
                <ul class="account-info">
                    <li><a href="#">SIGN IN</a></li>
                    <li><a href="#">SIGN OUT</a></li>
                </ul>
            </div>
            <div class="clear"></div>
        </div>
        <div class="clear"></div>
    </div>
</header>
<!--end header -->

<main>
    <div class="banner">
        <img id="banner" src="#"/>
    </div>
    <script type="text/javascript" charset="utf-8" async defer>
            var pic = document.getElementById("banner");
            var opacity = 1.0;
            var flag = 1;
            var n=1;
            setInterval(function(){
                switch(flag){
                    case 1:
                    console.log(opacity);
                    if(opacity>0.8){
                        opacity=opacity-0.005;
                        pic.style.opacity = opacity;
                    }
                    else{
                        opacity=opacity-0.1;
                        pic.style.opacity = opacity;
                    }
                    if(opacity<=0){
                        // opacity=1.0;
                        n=switch_pic(n)
                        flag=2;
                    }
                    break;
                    case 2:
                    console.log(opacity);
                        if(opacity<0.8){
                        opacity=opacity+0.1;
                        pic.style.opacity = opacity;
                    }
                    else{
                        opacity=opacity+0.05;
                        pic.style.opacity = opacity;
                    }
                    if(opacity>=1){
                        // opacity=1.0;
                        // switch_pic(n+1)
                        flag=1;
                    }

                    break;
                    default:
                    break;
                }
                
            },100);

            function switch_pic(n){
                console.log(n);
                switch(n){
                    case 1:pic.setAttribute("src","./image/desklampnew.jpg");n++;break;
                    default:pic.setAttribute("src","./image/plugnew.jpg");n=1;break;
                }
                return n;
            }
        </script>

</main>

</body>
</html>