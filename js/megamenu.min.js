!function(a){a.fn.megamenu=function(b){function d(b){b.find(".etrostore-mega > li").each(function(){var h=(a(this).find(".dropdown-menu"),a(this).find(".item-link:first"),a(this).find(".nav-level1"),0),i=0,j=a(this),k=!!j.hasClass("level1"),l=!!j.hasClass("dropdown");j.mouseenter(function(a){a.stopPropagation(),clearTimeout(i),clearTimeout(h),e(j),l&&g(j,k)}).mouseleave(function(a){clearTimeout(h),clearTimeout(i),f(j)})})}function e(b){a(b).addClass("hover")}function f(b){a(b).removeClass("hover")}function g(d,e){if(menucontent=a(d).find(".dropdown-menu"),menuitemlink=a(d).find(".item-link"),menucontentinner=a(d).find(".nav-level1"),wrap_O=0==b.rtl?c.offset().left:a(window).width()-(c.offset().left+c.outerWidth()),wrap_W=c.outerWidth(),menuitemli_O=0==b.rtl?menuitemlink.parent("li").offset().left:a(window).width()-(menuitemlink.parent("li").offset().left+menuitemlink.parent("li").outerWidth()),menuitemli_W=menuitemlink.parent("li").outerWidth(),menuitemlink_H=menuitemlink.outerHeight(),menuitemlink_W=menuitemlink.outerWidth(),menuitemlink_O=0==b.rtl?menuitemlink.offset().left:a(window).width()-(menuitemlink.offset().left+menuitemlink.outerWidth()),menucontent_W=menucontent.outerWidth(),e){if("left"==b.justify){var f=wrap_O+wrap_W,g=menuitemlink_O+menucontent_W;g>=f&&(0==b.rtl?menucontent.css({left:f-g+menuitemlink_O-menuitemli_O+"px"}):menucontent.css({left:"auto",right:f-g+menuitemlink_O-menuitemli_O+"px"}))}}else if(_leftsub=0,menucontent.css({top:0*menuitemlink_H+"px",left:menuitemlink_W+_leftsub+"px"}),"left"==b.justify){var f=wrap_O+wrap_W,g=menuitemli_O+menuitemli_W+_leftsub+menucontent_W;g>=f&&menucontent.css({left:_leftsub-menucontent_W+"px"})}else if("right"==b.justify){var h=wrap_O,i=menuitemli_O-menucontent_W+_leftsub;i<=h?menucontent.css({left:menuitemli_W-_leftsub+"px"}):menucontent.css({left:-_leftsub-menucontent_W+"px"})}}b=jQuery.extend({wrap:".nav-mega",speed:0,justify:"",rtl:!1,mm_timeout:0},b);var c=a(this);d(c)},a("document").ready(function(){$rtl=a("body").hasClass("rtl"),a(".header-mid > .container").megamenu({wrap:".nav-mega",justify:"left",rtl:$rtl}),a(".header-bottom > .container").megamenu({wrap:".nav-mega",justify:"left",rtl:$rtl}),a(".vertical-megamenu > li").each(function(){var b=a(this).find(".menu-color"),c=b.data("color");b.css("background",c),a(this).on("mouseenter",function(){b.css("width","100%"),b.parent().css("color","#fff")}).on("mouseleave",function(){b.css("width","4px"),b.parent().css("color","#222222")})})})}(jQuery);